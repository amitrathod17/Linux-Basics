### Runtime - CRI

- CRI stands for Container Runtime Interface.
- In beginning, Docker was the most popular container solution.
- When Kubenetes introduced it only supported Docker containers orchestration.
- WIth Kubernetes popularity other contain solutions provider like Rocket, Containerd wanted to integrate.
- Kubernetes introduce the Container Runtime Interface or CRI.
- Any container vendor to work with container runtime its has to adhere the OCI standards.
- CRI is a plugin interface that defines the API for container runtime to integrate with kubernetes.
- Kubernetes introduced a temporary solution called dockershim to provide support for Docker even after introducing the CRI.
- Dockershim was removed from the kubernetes ver. 1.24.
- Users are encouraged to use conatiners runtimes that supports the CRI which allows better compatibility and standardization across container runtime and helps to avoid vendor lock-in

---

### Chatgpt

# Runtime â€“ CRI

## Overview

The **Container Runtime Interface (CRI)** is a standard API that allows Kubernetes to work with different container runtimes. Before CRI, Kubernetes only supported Docker, but as new runtimes emerged, Kubernetes needed a consistent way to integrate with all of them. CRI ensures Kubernetes can communicate with any runtime that follows the standard, avoiding vendor lock-in.

## Key Points

* **CRI = Container Runtime Interface**, created to standardize runtime communication with Kubernetes.
* Initially, Kubernetes supported **only Docker**, which caused limitations.
* New runtimes like **containerd**, **CRI-O**, and **rkt (Rocket)** needed a way to integrate.
* Kubernetes introduced **CRI** so any runtime following **OCI standards** can be used.
* Docker did not natively implement CRI, so Kubernetes added a temporary adapter called **dockershim**.
* **Dockershim was removed in Kubernetes v1.24**, ending direct Docker support inside Kubernetes.
* Today, Kubernetes users are encouraged to use **CRI-compatible runtimes** such as containerd or CRI-O for better stability and portability.

## Simple Scenarios

### Scenario 1

Your cluster runs on Kubernetes v1.25. Since dockershim is removed, Docker cannot communicate with Kubernetes directly. You switch the node's runtime to **containerd**, which natively supports CRI, and Kubernetes instantly works without any special adapters.

### Scenario 2

You migrate workloads from one cloud provider to another. Since both clusters use **CRI-O**, Kubernetes interacts with the runtimes in the same standardized way, making the transition smooth and avoiding vendor dependencies.

## Footnotes

* OCI (Open Container Initiative) standards
* containerd vs CRI-O
* Pod sandbox & container runtime internals
* Dockershim deprecation notes

---
